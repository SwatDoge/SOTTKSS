{
    "name": "Test",
    "ambient": "#97a0a8",
    "light": "#f2f8fc",
    "sky": "#dce8ed",
    "fog": "#8d9aa0",
    "fogD": 2000,
    "xyz": [
        8,
        92,
        100,
        116,
        10,
        100,
        10,
        1,
        10,
        160,
        10,
        150,
        8,
        20,
        30,
        31,
        57,
        14,
        8,
        102,
        8,
        2,
        102,
        4,
        8,
        34,
        40,
        130,
        92,
        9,
        17,
        15,
        9,
        50,
        22,
        9,
        59,
        10,
        101
    ],
    "colors": [
        "#735A81",
        "#883434",
        "#FF0000",
        "#521983",
        "#6D8537",
        "#4C858A",
        "#7F88A9",
        "#544C7D",
        "#6B4848",
        "#34865B",
        "#31325F"
    ],
    "objects": [
        {
            "p": [
                54,
                0,
                0
            ],
            "ci": 0,
            "si": 0
        },
        {
            "p": [
                0,
                92,
                0
            ],
            "ci": 1,
            "si": 1
        },
        {
            "p": [
                37,
                0,
                0
            ],
            "t": 5,
            "ci": 2,
            "si": 2
        },
        {
            "p": [
                40,
                -10,
                -26
            ],
            "ci": 3,
            "si": 3
        },
        {
            "p": [
                -26,
                -10,
                0
            ],
            "si": 4
        },
        {
            "p": [
                59,
                0,
                57
            ],
            "o": 0.5,
            "si": 5
        },
        {
            "p": [
                -26,
                0,
                -54
            ],
            "o": 0.7,
            "si": 6
        },
        {
            "p": [
                -27,
                0,
                -58
            ],
            "i": 3,
            "t": 2,
            "d": 3,
            "si": 7
        },
        {
            "p": [
                93,
                0,
                -79
            ],
            "o": 0.7,
            "si": 8
        },
        {
            "p": [
                -52,
                0,
                0
            ],
            "ci": 4,
            "si": 0
        },
        {
            "p": [
                1,
                0,
                47
            ],
            "ci": 5,
            "si": 9
        },
        {
            "p": [
                -2,
                19,
                31
            ],
            "ci": 6,
            "si": 10
        },
        {
            "p": [
                14,
                22,
                -32
            ],
            "ci": 7,
            "si": 11
        },
        {
            "p": [
                -2,
                53,
                -2
            ],
            "ci": 8,
            "si": 11
        },
        {
            "p": [
                -2,
                56,
                -73
            ],
            "o": 0.7,
            "si": 10
        },
        {
            "p": [
                1,
                17,
                -47
            ],
            "ci": 9,
            "si": 9
        },
        {
            "p": [
                -64,
                -3,
                -63
            ],
            "ci": 10,
            "si": 12
        }
    ],
    "scripts": {
        "client": "b2JqIGNsaWVudCA9IHsKCXBsYXllcjoge30sCglwYXJ0aWNsZXM6IG9ialtdLAoJaWQ6IDAKfTsKCm9iaiBjb25maWcgPSB7CglwbGF5ZXI6IHsKCQl3aWR0aDogNi41LAoJCWhlaWdodDogMTEKCX0sCglwYXJ0aWNsZV90ZXh0dXJlczogb2JqWwoJCXtpZDogMCwgYWlkOiAiMjc5ODkiLCAgbmFtZTogImNvbG9yIHllbGxvdyIsIAkJdHJhbnNwYXJlbnQ6IGZhbHNlfSwKCQl7aWQ6IDEsIGFpZDogIjI3OTkxIiwgIG5hbWU6ICJjb2xvciBncmVlbiIsIAkJdHJhbnNwYXJlbnQ6IGZhbHNlfSwKCQl7aWQ6IDIsIGFpZDogIjI3OTkyIiwgIG5hbWU6ICJjb2xvciBhcXVhIiwJCQl0cmFuc3BhcmVudDogZmFsc2V9LAoJCXtpZDogMywgYWlkOiAiMjc5OTMiLCAgbmFtZTogImNvbG9yIGxpZ2h0IGJsdWUiLCAJdHJhbnNwYXJlbnQ6IGZhbHNlfSwKCQl7aWQ6IDQsIGFpZDogIjI3OTk0IiwgIG5hbWU6ICJjb2xvciBibHVlIiwgCQkJdHJhbnNwYXJlbnQ6IGZhbHNlfSwKCQl7aWQ6IDUsIGFpZDogIjI3OTk1IiwgIG5hbWU6ICJjb2xvciBwdXJwbGUiLCAJCXRyYW5zcGFyZW50OiBmYWxzZX0sCgkJe2lkOiA2LCBhaWQ6ICIyNzk5NiIsICBuYW1lOiAiY29sb3IgcGluayIsIAkJCXRyYW5zcGFyZW50OiBmYWxzZX0sCgkJe2lkOiA3LCBhaWQ6ICIyNzk5NyIsICBuYW1lOiAiY29sb3IgcmVkIiwgCQkJdHJhbnNwYXJlbnQ6IGZhbHNlfSwKCQl7aWQ6IDgsIGFpZDogIjI3OTk4IiwgIG5hbWU6ICJjb2xvciBncmF5IiwgCQkJdHJhbnNwYXJlbnQ6IGZhbHNlfSwKCQl7aWQ6IDksIGFpZDogIjI4MDAwIiwgIG5hbWU6ICJjb2xvciB3aGl0ZSIsIAkJdHJhbnNwYXJlbnQ6IGZhbHNlfSwKCQl7aWQ6IDEwLCBhaWQ6ICIyODAwMSIsIG5hbWU6ICJjb2xvciBibGFjayIsIAkJdHJhbnNwYXJlbnQ6IGZhbHNlfSwKCQl7aWQ6IDExLCBhaWQ6ICIyODEzNSIsIG5hbWU6ICJiYWxsb29uIHllbGxvdyIsIAkJdHJhbnNwYXJlbnQ6IHRydWV9LAoJCXtpZDogMTIsIGFpZDogIjI4MTM2IiwgbmFtZTogImJhbGxvb24gZ3JlZW4iLCAJCXRyYW5zcGFyZW50OiB0cnVlfSwKCQl7aWQ6IDEzLCBhaWQ6ICIyODEzNyIsIG5hbWU6ICJiYWxsb29uIGFxdWEiLCAJCXRyYW5zcGFyZW50OiB0cnVlfSwKCQl7aWQ6IDE0LCBhaWQ6ICIyODEzOCIsIG5hbWU6ICJiYWxsb29uIGxpZ2h0IGJsdWUiLCAJdHJhbnNwYXJlbnQ6IHRydWV9LAoJCXtpZDogMTUsIGFpZDogIjI4MTM5IiwgbmFtZTogImJhbGxvb24gYmx1ZSIsIAkJdHJhbnNwYXJlbnQ6IHRydWV9LAoJCXtpZDogMTYsIGFpZDogIjI4MTQwIiwgbmFtZTogImJhbGxvb24gcHVycGxlIiwgCQl0cmFuc3BhcmVudDogdHJ1ZX0sCgkJe2lkOiAxNywgYWlkOiAiMjgxNDEiLCBuYW1lOiAiYmFsbG9vbiBwaW5rIiwgCQl0cmFuc3BhcmVudDogdHJ1ZX0sCgkJe2lkOiAxOCwgYWlkOiAiMjgxNDIiLCBuYW1lOiAiYmFsbG9vbiByZWQiLCAJCXRyYW5zcGFyZW50OiB0cnVlfSwKCQl7aWQ6IDE5LCBhaWQ6ICIyODE0MyIsIG5hbWU6ICJiYWxsb29uIGdyYXkiLCAJCXRyYW5zcGFyZW50OiB0cnVlfSwKCQl7aWQ6IDIwLCBhaWQ6ICIyODE0NCIsIG5hbWU6ICJiYWxsb29uIHdoaXRlIiwgCQl0cmFuc3BhcmVudDogdHJ1ZX0sCgkJe2lkOiAyMSwgYWlkOiAiMjgxNDUiLCBuYW1lOiAiYmFsbG9vbiBibGFjayIsIAkJdHJhbnNwYXJlbnQ6IHRydWV9CgldLAoJaGl0Ym94ZXM6IG9ialsKCQl7cG9zX3g6IDM3LCAgcG9zX3k6IDAsICAgcG9zX3o6IDAsICAgd2lkdGg6IDEwLCAgaGVpZ2h0OiAxLCAgIGxlbmd0aDogMTB9LAoJCXtwb3NfeDogNTQsICBwb3NfeTogMCwgICBwb3NfejogMCwgICB3aWR0aDogOCwgICBoZWlnaHQ6IDkyLCAgbGVuZ3RoOiAxMDB9LAoJCXtwb3NfeDogMSwgICBwb3NfeTogMCwgICBwb3NfejogNDcsICB3aWR0aDogMTMwLCBoZWlnaHQ6IDkyLCAgbGVuZ3RoOiA5fSwKCQl7cG9zX3g6IDU5LCAgcG9zX3k6IDAsICAgcG9zX3o6IDU3LCAgd2lkdGg6IDMxLCAgaGVpZ2h0OiA1NywgIGxlbmd0aDogMTR9LAoJCXtwb3NfeDogOTMsICBwb3NfeTogMCwgICBwb3NfejogLTc5LCB3aWR0aDogOCwgICBoZWlnaHQ6IDM0LCAgbGVuZ3RoOiA0MH0sCgkJe3Bvc194OiAtNTIsIHBvc195OiAwLCAgIHBvc196OiAwLCAgIHdpZHRoOiA4LCAgIGhlaWdodDogOTIsICBsZW5ndGg6IDEwMH0sCgkJe3Bvc194OiAtMiwgIHBvc195OiAxOSwgIHBvc196OiAzMSwgIHdpZHRoOiAxNywgIGhlaWdodDogMTUsICBsZW5ndGg6IDl9LAoJCXtwb3NfeDogLTIsICBwb3NfeTogNTMsICBwb3NfejogLTIsICB3aWR0aDogNTAsICBoZWlnaHQ6IDIyLCAgbGVuZ3RoOiA5fSwKCQl7cG9zX3g6IDAsICAgcG9zX3k6IDkyLCAgcG9zX3o6IDAsICAgd2lkdGg6IDExNiwgaGVpZ2h0OiAxMCwgIGxlbmd0aDogMTAwfSwKCQl7cG9zX3g6IDE0LCAgcG9zX3k6IDIyLCAgcG9zX3o6IC0zMiwgd2lkdGg6IDUwLCAgaGVpZ2h0OiAyMiwgIGxlbmd0aDogOX0sCgkJe3Bvc194OiAtMjYsIHBvc195OiAwLCAgIHBvc196OiAtNTQsIHdpZHRoOiA4LCAgIGhlaWdodDogMTAyLCBsZW5ndGg6IDh9LAoJCXtwb3NfeDogLTI3LCBwb3NfeTogMCwgICBwb3NfejogLTU4LCB3aWR0aDogMiwgICBoZWlnaHQ6IDEwMiwgbGVuZ3RoOiA0fSwKCQl7cG9zX3g6IC0yLCAgcG9zX3k6IDU2LCAgcG9zX3o6IC03Mywgd2lkdGg6IDE3LCAgaGVpZ2h0OiAxNSwgIGxlbmd0aDogOX0sCgkJe3Bvc194OiAxLCAgIHBvc195OiAxNywgIHBvc196OiAtNDcsIHdpZHRoOiAxMzAsIGhlaWdodDogOTIsICBsZW5ndGg6IDl9LAoJCXtwb3NfeDogLTI2LCBwb3NfeTogLTEwLCBwb3NfejogMCwgICB3aWR0aDogOCwgICBoZWlnaHQ6IDIwLCAgbGVuZ3RoOiAzMH0sCgkJe3Bvc194OiAtNjQsIHBvc195OiAtMywgIHBvc196OiAtNjMsIHdpZHRoOiA1OSwgIGhlaWdodDogMTAsICBsZW5ndGg6IDEwMX0sCgkJe3Bvc194OiA0MCwgIHBvc195OiAtMTAsIHBvc196OiAtMjYsIHdpZHRoOiAxNjAsIGhlaWdodDogMTAsICBsZW5ndGg6IDE1MH0KCV0KfTsKCm51bSBhY3Rpb24gcmFuZG9tKG51bSBtaW4sIG51bSBtYXgpewoJcmV0dXJuIFVUSUxTLnJhbmRGbG9hdChtaW4sIG1heCk7Cn0KCm9iaiBhY3Rpb24gcGFydGljbGVfb2JqZWN0KG9iaiBjb25maWcpewoJcmV0dXJuIHsKCQliZWhhdmlvdXI6IHsJCQkJCQkJCQkjIE92ZXJyaWRlcyBmb3JjZSBhbmQgdGh1cyBlbmVyZ3kuIEEgY29uc3RhbnQgZm9yY2UgdG8gYSBjZXJ0YWluIGRpcmVjdGlvbiwgbGlrZSBncmF2aXR5LgoJCQlncmF2aXR5OiB7CgkJCQl4OiAwLAoJCQkJeTogMCwKCQkJCXo6IDAKCQkJfSwJCQkJCQkJCQoJCQlmb3JjZTogewkJCQkJCQkJCSMgRGlyZWN0aW9uIHRoZSBwYXJ0aWNsZSBtb3ZlcyBpbi4gR3Jhdml0eSB3b3VsZCBiZSBuZWdhdGl2ZSB5IGZvcmNlIGZvciBpbnN0YW5jZS4gSXQgZ2V0cyBhZmZlY3RlZCBieSBlbmVyZ3kuCgkJCQl4OiAxLCAKCQkJCXk6IDAsIAoJCQkJejogMAoJCQl9LAkJCgkJCWVuZXJneTogewkJCQkJCQkJCSMgRW5lcmd5IG9mIGEgZGlyZWN0aW9uLiBFbmVyZ3kgZGVwbGV0ZXMgYW5kIHNsb3dseSBsb3dlcnMgZm9yY2Ugb3ZlciB0aW1lIChpZiBwb3NpdGl2ZSB2YWx1ZSkuCgkJCQl4OiAxLCAKCQkJCXk6IDAsIAoJCQkJejogMAoJCQl9LAkJCgkJCWNvbGxpc2lvbjogewoJCQkJY29sbGlzaW9uOiB0cnVlLAkJCQkJCSMgV2hlbiBvZmYsIHBhcnRpY2xlcyB3aWxsIGtlZXAgbW92aW5nIHRocnUgc3VyZmFjZXMuCgkJCQljbGlwcGluZzogZmFsc2UJCQkJCQkJIyBEZWNpZGVzIHdldGhlciB0aGUgcGFydGljbGVzIGNlbnRlciAodHJ1ZSkgb3IgdGhlIHBhcnRpY2xlcyBib3R0b20gKGZhbHNlKSBpcyBvbiB0aGUgZ3JvdW5kLgoJCQl9LAoJCQlwbGF5ZXJfY29sbGlzaW9uOiB0cnVlLAkJCQkJCSMgSWYgYSBwbGF5ZXIgY2FuIHB1c2ggdGhlIHBhcnRpY2xlcy4KCQkJcGxheWVyX2NvbGxpc2lvbl9zdHJlbmd0aDogMC4zLAkJCQkjIEhvdyBtdWNoIGZvcmNlIGlzIGFwcGxpZWQgdXBvbiBwbGF5ZXIgY29sbGlzaW9uLgoJCQlwbGF5ZXJfY29sbGlzaW9uXzNkOiBmYWxzZQkJCQkJIyBEZXRlcm1lbnMgd2V0aGVyIGNvbGxpc2lvbnMgYXJlIDNkIG9yIDJkLiAyZCBjb2xsaXNpb25zIG1lYW5zIHRoYXQgcGxheWVycyBjYW4gbm90IGJvdW5jZSBwYXJ0aWNsZXMgdXAgaW4gdGhlIGFpci4KCQl9LAoJCWRlY2F5OiB7CgkJCWRlY2F5OiB0cnVlLAkJCQkJCQkJIyBFbmFibGUgZGVjYXkgKGRlc3Bhd25pbmcpIG9mIHBhcnRpY2xlcy4KCQkJbWluX2RlY2F5X2hlaWdodDogLTEsCQkJCQkJIyBBdCB3aGF0IHkgdmFsdWUgdGhlIHBhcnRpY2xlIHdpbGwgYXV0b21hdGljYWxseSBkZXNwYXduLgoJCQlzdGFydF9kZWNheV9vbl9jb2xsaXNpb246IHRydWUsCQkJCSMgU3RhcnQgZGVjYXkgb25jZSBwYXJ0aWNsZSBjb21lcyBpbiBjb250YWN0IHdpdGggYSBzdXJmYWNlLgoJCQlzdGFydF9kZWNheV9vbl9zdG9wOiBmYWxzZSwJCQkJCSMgU3RhcnQgZGVjYXkgb25jZSBwYXJ0aWNsZSBzdG9wcyBtb3ZpbmcgZW50aXJlbHkuCgkJCWRlY2F5X3RpbWU6IDEwMDAsCQkJCQkJCSMgVG90YWwgYW1vdW50IG9mIHRpbWUgYSBwYXJ0aWNsZSBjYW4gZXhpc3RzIGluIG1pbGlzZWNvbmRzLiBFeGNsdWRlcyBzdGFydF9kZWNheV9vbl9jb2xsaXNpb24gYW5kIHN0YXJ0X2RlY2F5X29uX3N0b3AKCQkJZGVjYXlfY29vbGRvd246IDEwMDAwLAkJCQkJCSMgVGltZSBpdCB0YWtlcyBmb3IgYW4gaXRlbSB0byBkZWNheSBhZnRlciBhbiBpbnRlcmFjdGlvbiwgc3VjaCBhcyBzdGFydF9kZWNheV9vbl9jb2xsaXNpb24gYW5kIHN0YXJ0X2RlY2F5X29uX3N0b3AuCgkJCXRyYW5zaXRpb25zOiB7CgkJCQkjIGZhZGVvdXQgZGVjYXkKCQkJfQoJCX0sCgkJcHJvcGVydGllczogewoJCQl0ZXh0dXJlX2lkOiBudW1bMF0sCQkJCQkJCSMgQ29sb3JzIG9mIHBhcnRpY2xlcy4KCQkJc2l6ZTogMSAJCQkJCQkJCQkjIFNpemUgb2YgcGFydGljbGVzLgoJCX0sCgkJcGVyZm9ybWFuY2U6IHsKCQkJIyBmcmFtZSBvZmZsb2FkIGFtb3VudAoJCQkjIGZyYW1lIG9mZmxvYWQgc2NhbGluZwoJCQkjIHN1YnNlY3Rpb25pbmcKCQkJIyBzdGFjayBtZXJnaW5nCgkJCSMgZnJhbWUgYmFzZWQgYW1vdW50CgkJCSMgZGVjYXkgYW1wbGlmaWVyCgkJfQoJfTsKfQoKI2N1c3RvbSBmdW5jdGlvbnMKYWN0aW9uIGNsZWFuX3BhcnRpY2xlcygpewoJZm9yKG51bSBpID0gbGVuZ3RoT2YgY2xpZW50LnBhcnRpY2xlczsgaSA+IDA7IGktLSl7CgkJY2xpZW50LnBhcnRpY2xlc1tpIC0gMV0uc3ByaXRlLmRlbGV0ZSgpOwoJCXJlbW92ZSBjbGllbnQucGFydGljbGVzW2kgLSAxXTsKCX0KfQoKYWN0aW9uIHJlbW92ZV9wYXJ0aWNsZShvYmogcGFydGljbGUpewoJZm9yKG51bSBpID0gMDsgaSA8IGxlbmd0aE9mIGNsaWVudC5wYXJ0aWNsZXM7IGkrKyl7CgkJaWYgKChzdHIpIGNsaWVudC5wYXJ0aWNsZXNbaV0uaWQgPT0gKHN0cikgcGFydGljbGUuaWQpewoJCQlwYXJ0aWNsZS5zcHJpdGUuZGVsZXRlKCk7CgkJCXJlbW92ZSBjbGllbnQucGFydGljbGVzW2ldOwoJCQlicmVhazsKCQl9Cgl9Cn0KCiMgQ29udmVydCBSYWRpYW5zIHRvIGNhcnRlc2lhbiBjb29yZGluYXRlcwpvYmogYWN0aW9uIHJhZGlhbnNfdG9fY2FydGVzaWFuKG9iaiByYWRpYW5zLCBudW0gcmFkaXVzKXsKCW51bSBoYWxmX3BpID0gTWF0aC5QSSAvIDI7CgoJI3JhZGlhbnMKCW51bSB0aGV0YSA9IC0obnVtKSByYWRpYW5zLnggKyBoYWxmX3BpOwoJbnVtIHBoaSA9IChudW0pIHJhZGlhbnMueSAtIGhhbGZfcGk7CgoJI2NhcnRlc2lhbiBjb29yZGluYXRlcwoJbnVtIGRvdF94ID0gKChudW0pIHJhZGlhbnMueCkgKyByYWRpdXMgKiBNYXRoLnNpbihwaGkpICogTWF0aC5jb3ModGhldGEpOwoJbnVtIGRvdF96ID0gKChudW0pIHJhZGlhbnMueikgKyByYWRpdXMgKiBNYXRoLnNpbihwaGkpICogTWF0aC5zaW4odGhldGEpOwoJbnVtIGRvdF95ID0gKChudW0pIHJhZGlhbnMueSkgKyByYWRpdXMgKiBNYXRoLmNvcyhwaGkpOwoKCXJldHVybiB7CgkJeDogZG90X3gsIAoJCXk6IGRvdF95LCAKCQl6OiBkb3RfegoJfTsKfQoKYWN0aW9uIHBhcnRpY2xlcyhudW0gcG9zX3gsIG51bSBwb3NfeSwgbnVtIHBvc196LCBvYmogc2V0dXApIHsKCW9iaiBwYXJ0aWNsZV9zZXR1cCA9IHNldHVwOwoJYm9vbCB0cmFuc3BhcmVudCA9IGZhbHNlOwoJCgkjcGFydGljbGVzLnByb3BlcnRpZXMucGFydGljbGVfdGV4dHVyZXMgKHRlc3RlZCkKCXN0ciBhc3NldF9pZCA9ICIyODExMiI7CgludW0gdGV4dHVyZV9pZCA9IFVUSUxTLnJhbmRJbnQoMCwgbGVuZ3RoT2YgcGFydGljbGVfc2V0dXAucHJvcGVydGllcy50ZXh0dXJlX2lkIC0gMSk7CgoJZm9yKG51bSBoID0gMDsgaCA8IGxlbmd0aE9mIGNvbmZpZy5wYXJ0aWNsZV90ZXh0dXJlczsgaCsrKXsKCQlpZiAoKG51bSkgY29uZmlnLnBhcnRpY2xlX3RleHR1cmVzW2hdLmlkID09IChudW0pIHBhcnRpY2xlX3NldHVwLnByb3BlcnRpZXMudGV4dHVyZV9pZFt0ZXh0dXJlX2lkXSl7CgkJCWFzc2V0X2lkID0gKHN0cikgY29uZmlnLnBhcnRpY2xlX3RleHR1cmVzW2hdLmFpZDsKCQkJdHJhbnNwYXJlbnQgPSAoYm9vbCkgY29uZmlnLnBhcnRpY2xlX3RleHR1cmVzW2hdLnRyYW5zcGFyZW50OwoJCQlicmVhazsKCQl9Cgl9CgoJYWRkVG8gKG9ialtdKSBjbGllbnQucGFydGljbGVzIHsKCQlzcHJpdGU6IEdBTUUuU0NFTkUuYWRkU3ByaXRlKGFzc2V0X2lkLCAiI0ZGRiIsIHBvc194LCBwb3NfeSwgcG9zX3osIHBhcnRpY2xlX3NldHVwLnByb3BlcnRpZXMuc2l6ZSwgMCwgcGFydGljbGVfc2V0dXAucHJvcGVydGllcy5zaXplLCB7Zm9yY2VUcmFuc3BhcmVuY3k6IHRyYW5zcGFyZW50fSksCgkJY29uZmlnOiBwYXJ0aWNsZV9zZXR1cCwKCQllbmVyZ3lfdG90YWw6IHsKCQkJeDogc2V0dXAuYmVoYXZpb3VyLmVuZXJneS54LAoJCQl5OiBzZXR1cC5iZWhhdmlvdXIuZW5lcmd5LnksCgkJCXo6IHNldHVwLmJlaGF2aW91ci5lbmVyZ3kuegoJCX0sCgkJY29sbGlkZWQ6IGZhbHNlLAoJCXN0b3BwZWQ6IGZhbHNlLAoJCWRlY2F5OiAtMSwKCQlpZDogY2xpZW50LmlkCgl9OwoKCShudW0pIGNsaWVudC5pZCsrOwp9CgojIGRlZmF1bHQgZnVuY3Rpb25zCgpwdWJsaWMgYWN0aW9uIHN0YXJ0KCl7CglHQU1FLmxvZygiTm8gaXNzdWVzIGZvdW5kIik7Cn0KCnB1YmxpYyBhY3Rpb24gdXBkYXRlKG51bSBkZWx0YSkgewoJaWYgKCFub3RFbXB0eSAob2JqKSBjbGllbnQucGxheWVyKSB7CgkJY2xpZW50LnBsYXllciA9IEdBTUUuUExBWUVSUy5nZXRTZWxmKCk7Cgl9IGVsc2UgewoJCSMgbG9hZGVkCgkJaWYgKGxlbmd0aE9mIGNsaWVudC5wYXJ0aWNsZXMgPiAwKXsKCQkJIyBsb29wIHRocnUgYWxsIHBhcnRpY2xlIG9iamVjdHMuCgkJCWZvcihudW0gaSA9IDA7IGkgPCBsZW5ndGhPZiBjbGllbnQucGFydGljbGVzOyBpKyspewoJCQkJb2JqIHBhcnRpY2xlID0gKG9iaikgY2xpZW50LnBhcnRpY2xlc1tpXTsKCQkJCQoJCQkJIyBQQVJUSUNMRSBPRkZTRVRTIChmb3JjZSA9IGVuZXJneSAvIG9yaWdpbmFsIGVuZXJneSAqIGZvcmNlICsgZ3Jhdml0eSkKCQkJCQoJCQkJIyBjb25maWcuYmVoYXZpb3VyLmVuZXJneSAodGVzdGVkKQoJCQkJbnVtIHBhcnRpY2xlX2VuZXJneV94ID0gMTsKCQkJCW51bSBwYXJ0aWNsZV9lbmVyZ3lfeSA9IDE7CgkJCQludW0gcGFydGljbGVfZW5lcmd5X3ogPSAxOwoJCQkJCQoJCQkJaWYgKChudW0pIHBhcnRpY2xlLmVuZXJneV90b3RhbC54ICE9IDApewoJCQkJCXBhcnRpY2xlX2VuZXJneV94ID0gKG51bSkgcGFydGljbGUuY29uZmlnLmJlaGF2aW91ci5lbmVyZ3kueCAvIChudW0pIHBhcnRpY2xlLmVuZXJneV90b3RhbC54OwoJCQkJfQoJCQkJCQoJCQkJaWYgKChudW0pIHBhcnRpY2xlLmVuZXJneV90b3RhbC55ICE9IDApewoJCQkJCXBhcnRpY2xlX2VuZXJneV95ID0gKG51bSkgcGFydGljbGUuY29uZmlnLmJlaGF2aW91ci5lbmVyZ3kueSAvIChudW0pIHBhcnRpY2xlLmVuZXJneV90b3RhbC55OwoJCQkJfQoJCQkJCQoJCQkJaWYgKChudW0pIHBhcnRpY2xlLmVuZXJneV90b3RhbC56ICE9IDApewoJCQkJCXBhcnRpY2xlX2VuZXJneV96ID0gKG51bSkgcGFydGljbGUuY29uZmlnLmJlaGF2aW91ci5lbmVyZ3kueiAvIChudW0pIHBhcnRpY2xlLmVuZXJneV90b3RhbC56OwoJCQkJfQoJCQkJCgkJCQkjIGNvbmZpZy5iZWhhdmlvdXIuZm9yY2UgKHRlc3RlZCkKCQkJCW51bSBmb3JjZV94ID0gKChudW0pIHBhcnRpY2xlLmNvbmZpZy5iZWhhdmlvdXIuZm9yY2UueCAqIHBhcnRpY2xlX2VuZXJneV94KSArIChudW0pIHBhcnRpY2xlLmNvbmZpZy5iZWhhdmlvdXIuZ3Jhdml0eS54OwoJCQkJbnVtIGZvcmNlX3kgPSAoKG51bSkgcGFydGljbGUuY29uZmlnLmJlaGF2aW91ci5mb3JjZS55ICogcGFydGljbGVfZW5lcmd5X3kpICsgKG51bSkgcGFydGljbGUuY29uZmlnLmJlaGF2aW91ci5ncmF2aXR5Lnk7CgkJCQludW0gZm9yY2VfeiA9ICgobnVtKSBwYXJ0aWNsZS5jb25maWcuYmVoYXZpb3VyLmZvcmNlLnogKiBwYXJ0aWNsZV9lbmVyZ3lfeikgKyAobnVtKSBwYXJ0aWNsZS5jb25maWcuYmVoYXZpb3VyLmdyYXZpdHkuejsJCgkJCQkKCQkJCSMgYmVoYXZpb3VyLnBsYXllcl9jb2xsaXNpb24gKHRlc3RlZCkKCQkJCWlmICgoYm9vbCkgcGFydGljbGUuY29uZmlnLmJlaGF2aW91ci5wbGF5ZXJfY29sbGlzaW9uKXsKCQkJCQludW0gcGFydGljbGVfcGxheWVyX2Rpc3RhbmNlID0gVVRJTFMuZ2V0RGlzdDNEKGNsaWVudC5wbGF5ZXIucG9zaXRpb24ueCwgY2xpZW50LnBsYXllci5wb3NpdGlvbi55LCBjbGllbnQucGxheWVyLnBvc2l0aW9uLnosIHBhcnRpY2xlLnNwcml0ZS5wb3NpdGlvbi54LCBwYXJ0aWNsZS5zcHJpdGUucG9zaXRpb24ueSwgcGFydGljbGUuc3ByaXRlLnBvc2l0aW9uLnopOwoJCQkJCQoJCQkJCWlmICgobnVtKSBwYXJ0aWNsZV9wbGF5ZXJfZGlzdGFuY2UgPD0gKG51bSkgY29uZmlnLnBsYXllci53aWR0aCkgewoJCQkJCQkjIGJlaGF2aW91ci5wbGF5ZXJfY29sbGlzaW9uXzNkICh0ZXN0ZWQpCgkJCQkJCWlmICghKGJvb2wpIHBhcnRpY2xlLmNvbmZpZy5iZWhhdmlvdXIucGxheWVyX2NvbGxpc2lvbl8zZCl7CgkJCQkJCQludW0gcGFydGljbGVfcGxheWVyX2RpcmVjdGlvbiA9IFVUSUxTLmdldERpcjJEKGNsaWVudC5wbGF5ZXIucG9zaXRpb24ueCwgY2xpZW50LnBsYXllci5wb3NpdGlvbi56LCBwYXJ0aWNsZS5zcHJpdGUucG9zaXRpb24ueCwgcGFydGljbGUuc3ByaXRlLnBvc2l0aW9uLnopOwoJCQkJCQkJCgkJCQkJCQkjIGJlaGF2aW91ci5wbGF5ZXJfY29sbGlzaW9uX3N0cmVuZ3RoICh0ZXN0ZWQpCgkJCQkJCQlmb3JjZV94ICs9IChudW0pIHBhcnRpY2xlLmNvbmZpZy5iZWhhdmlvdXIucGxheWVyX2NvbGxpc2lvbl9zdHJlbmd0aCAqIE1hdGguY29zKHBhcnRpY2xlX3BsYXllcl9kaXJlY3Rpb24pOwoJCQkJCQkJZm9yY2VfeiArPSAobnVtKSBwYXJ0aWNsZS5jb25maWcuYmVoYXZpb3VyLnBsYXllcl9jb2xsaXNpb25fc3RyZW5ndGggKiBNYXRoLnNpbihwYXJ0aWNsZV9wbGF5ZXJfZGlyZWN0aW9uKTsKCQkJCQkJCQoJCQkJCQl9CgkJCQkJCWVsc2UgewoJCQkJCQkJb2JqIHZlY3RvciA9IHsKCQkJCQkJCQl4OiAobnVtKSBjbGllbnQucGxheWVyLnBvc2l0aW9uLnggLSAobnVtKSBwYXJ0aWNsZS5zcHJpdGUucG9zaXRpb24ueCwKCQkJCQkJCQl5OiAobnVtKSBjbGllbnQucGxheWVyLnBvc2l0aW9uLnkgLSAobnVtKSBwYXJ0aWNsZS5zcHJpdGUucG9zaXRpb24ueSwKCQkJCQkJCQl6OiAobnVtKSBjbGllbnQucGxheWVyLnBvc2l0aW9uLnogLSAobnVtKSBwYXJ0aWNsZS5zcHJpdGUucG9zaXRpb24uegoJCQkJCQkJfTsKCQkJCQkJCQoJCQkJCQkJbnVtIHZlY3Rvcl9sZW5ndGggPSBNYXRoLnNxcnQoCgkJCQkJCQkJKChudW0pIHZlY3Rvci54ICogKG51bSkgdmVjdG9yLngpICsKCQkJCQkJCQkoKG51bSkgdmVjdG9yLnkgKiAobnVtKSB2ZWN0b3IueSkgKwoJCQkJCQkJCSgobnVtKSB2ZWN0b3IueiAqIChudW0pIHZlY3Rvci56KQoJCQkJCQkJKTsKCQkKIAkJCQkJCQlmb3JjZV94ICs9ICgobnVtKSB2ZWN0b3IueCAvIChudW0pIHZlY3Rvcl9sZW5ndGgpICogKG51bSkgcGFydGljbGUuY29uZmlnLmJlaGF2aW91ci5wbGF5ZXJfY29sbGlzaW9uX3N0cmVuZ3RoOwoJCQkJCQkJZm9yY2VfeSArPSAoKG51bSkgdmVjdG9yLnkgLyAobnVtKSB2ZWN0b3JfbGVuZ3RoKSAqIChudW0pIHBhcnRpY2xlLmNvbmZpZy5iZWhhdmlvdXIucGxheWVyX2NvbGxpc2lvbl9zdHJlbmd0aDsKIAkJCQkJCQlmb3JjZV96ICs9ICgobnVtKSB2ZWN0b3IueiAvIChudW0pIHZlY3Rvcl9sZW5ndGgpICogKG51bSkgcGFydGljbGUuY29uZmlnLmJlaGF2aW91ci5wbGF5ZXJfY29sbGlzaW9uX3N0cmVuZ3RoOwoJCQkJCQl9CgkJCQkJCXBhcnRpY2xlLnN0b3BwZWQgPSBmYWxzZTsKCQkJCQl9CgkJCQl9CgoJCQkJI2JlaGF2aW91ci5jb2xsaXNpb24uY29sbGlzaW9uICh0ZXN0ZWQpCgkJCQlpZiAoKGJvb2wpIHBhcnRpY2xlLmNvbmZpZy5iZWhhdmlvdXIuY29sbGlzaW9uLmNvbGxpc2lvbiAmJiAobnVtKSBwYXJ0aWNsZS5zcHJpdGUucG9zaXRpb24ueSA+IChudW0pIHBhcnRpY2xlLmNvbmZpZy5kZWNheS5taW5fZGVjYXlfaGVpZ2h0KXsKCQkJCQkjbG9vcCB0aHJ1IGFsbCBoaXRib3hlcy4KCQkJCQlmb3IobnVtIGggPSAwOyBoIDwgbGVuZ3RoT2YgY29uZmlnLmhpdGJveGVzOyBoKyspewoJCQkJCQlvYmogaGl0Ym94ID0gKG9iaikgY29uZmlnLmhpdGJveGVzW2hdOwoJCQkJCQlvYmogcF9wb3MgPSAob2JqKSBwYXJ0aWNsZS5zcHJpdGUucG9zaXRpb247CgkJCQkJCW51bSBvZmZzZXQgPSAobnVtKSBwYXJ0aWNsZS5jb25maWcucHJvcGVydGllcy5zaXplIC8gMjsKCQkJCQkJbnVtIGNsaXBwaW5nID0gMDsKCQkJCQkJCgkJCQkJCSNiZWhhdmlvdXIuY29sbGlzaW9uLmNsaXBwaW5nICh0ZXN0ZWQpCgkJCQkJCWlmICghKGJvb2wpIHBhcnRpY2xlLmNvbmZpZy5iZWhhdmlvdXIuY29sbGlzaW9uLmNsaXBwaW5nKXsKCQkJCQkJCWNsaXBwaW5nID0gb2Zmc2V0OwoJCQkJCQl9CgkJCQkJCQoJCQkJCQkKCQkJCQkJaWYgKCEoYm9vbCkgcGFydGljbGUuc3RvcHBlZCl7CgkJCQkJCQkjWCBDb2xsaWRlcwoJCQkJCQkJaWYgKAoJCQkJCQkJCSNpZiBjb21pbmcgZnJvbSBsZWZ0CgkJCQkJCQkJKChmb3JjZV94ID4gMCAmJiAobnVtKSBwX3Bvcy54IC0gZm9yY2VfeCAtIG9mZnNldCA8IChudW0pIGhpdGJveC5wb3NfeCArICgobnVtKSBoaXRib3gud2lkdGggLyAyKSAmJiAobnVtKSBwX3Bvcy54IC0gZm9yY2VfeCAtIG9mZnNldCA+IChudW0pIGhpdGJveC5wb3NfeCAtICgobnVtKSBoaXRib3gud2lkdGggLyAyKSkgfHwKCQkJCQkJCQkjaWYgY29taW5nIGZyb20gcmlnaHQKCQkJCQkJCQkoZm9yY2VfeCA8IDAgJiYgKG51bSkgcF9wb3MueCArIC1mb3JjZV94ICsgb2Zmc2V0IDwgKG51bSkgaGl0Ym94LnBvc194ICsgKChudW0pIGhpdGJveC53aWR0aCAvIDIpICYmIChudW0pIHBfcG9zLnggKyAtZm9yY2VfeCArIG9mZnNldCA+IChudW0pIGhpdGJveC5wb3NfeCAtICgobnVtKSBoaXRib3gud2lkdGggLyAyKSkpICYmCgkJCQkJCQkJI21hdGNoZXMgb24geSBheGlzCgkJCQkJCQkJKCgobnVtKSBoaXRib3gucG9zX3kgKyAobnVtKSBoaXRib3guaGVpZ2h0ID4gKG51bSkgcF9wb3MueSAmJiAobnVtKSBoaXRib3gucG9zX3kgPCAobnVtKSBwX3Bvcy55KSAmJiAKCQkJCQkJCQkjbWF0Y2hlcyBvbiB6IGF4aXMKCQkJCQkJCQkoKG51bSkgaGl0Ym94LnBvc196ICsgKChudW0pIGhpdGJveC5sZW5ndGggLyAyKSA+IChudW0pIHBfcG9zLnogJiYgKG51bSkgaGl0Ym94LnBvc196IC0gKChudW0pIGhpdGJveC5sZW5ndGggLyAyKSA8IChudW0pIHBfcG9zLnopKSl7CgoJCQkJCQkJCWlmIChmb3JjZV94IDwgMCl7CgkJCQkJCQkJCSMgY2VpbGluZwoJCQkJCQkJCQlmb3JjZV94ID0gKG51bSkgcGFydGljbGUuY29uZmlnLmJlaGF2aW91ci5ncmF2aXR5LnggPiAwID8gKG51bSkgcGFydGljbGUuY29uZmlnLmJlaGF2aW91ci5ncmF2aXR5LnggOiAwOwoJCQkJCQkJCX0gZWxzZSB7CgkJCQkJCQkJCSMgZmxvb3IKCQkJCQkJCQkJZm9yY2VfeCA9IChudW0pIHBhcnRpY2xlLmNvbmZpZy5iZWhhdmlvdXIuZ3Jhdml0eS54IDwgMCA/IChudW0pIHBhcnRpY2xlLmNvbmZpZy5iZWhhdmlvdXIuZ3Jhdml0eS54IDogMDsKCQkJCQkJCQl9CgoJCQkJCQkJCXBhcnRpY2xlLmNvbGxpZGVkID0gdHJ1ZTsKCQkJCQkJCQlwYXJ0aWNsZS5jb25maWcuYmVoYXZpb3VyLmZvcmNlLnggPSAwOwoJCQkJCQkJCXBhcnRpY2xlLmNvbmZpZy5iZWhhdmlvdXIuZW5lcmd5LnggPSAwOwoJCQkJCQkJfQoKCQkJCQkJCSNaIENvbGxpZGVzCgkJCQkJCQlpZiAoCgkJCQkJCQkJI2lmIGNvbWluZyBmcm9tIGxlZnQKCQkJCQkJCQkoKGZvcmNlX3ogPiAwICYmIChudW0pIHBfcG9zLnogLSBmb3JjZV96IC0gb2Zmc2V0IDwgKG51bSkgaGl0Ym94LnBvc196ICsgKChudW0pIGhpdGJveC5sZW5ndGggLyAyKSAmJiAobnVtKSBwX3Bvcy56IC0gZm9yY2VfeiAtIG9mZnNldCA+IChudW0pIGhpdGJveC5wb3NfeiAtICgobnVtKSBoaXRib3gubGVuZ3RoIC8gMikpIHx8CgkJCQkJCQkJI2lmIGNvbWluZyBmcm9tIHJpZ2h0CgkJCQkJCQkJKGZvcmNlX3ogPCAwICYmIChudW0pIHBfcG9zLnogKyAtZm9yY2VfeiArIG9mZnNldCA8IChudW0pIGhpdGJveC5wb3NfeiArICgobnVtKSBoaXRib3gubGVuZ3RoIC8gMikgJiYgKG51bSkgcF9wb3MueiArIC1mb3JjZV96ICsgb2Zmc2V0ID4gKG51bSkgaGl0Ym94LnBvc196IC0gKChudW0pIGhpdGJveC5sZW5ndGggLyAyKSkpICYmCgkJCQkJCQkJI21hdGNoZXMgb24geSBheGlzCgkJCQkJCQkJKCgobnVtKSBoaXRib3gucG9zX3kgKyAobnVtKSBoaXRib3guaGVpZ2h0ID4gKG51bSkgcF9wb3MueSAmJiAobnVtKSBoaXRib3gucG9zX3kgPCAobnVtKSBwX3Bvcy55KSAmJiAKCQkJCQkJCQkjbWF0Y2hlcyBvbiB6IGF4aXMKCQkJCQkJCQkoKG51bSkgaGl0Ym94LnBvc194ICsgKChudW0pIGhpdGJveC53aWR0aCAvIDIpID4gKG51bSkgcF9wb3MueCAmJiAobnVtKSBoaXRib3gucG9zX3ggLSAoKG51bSkgaGl0Ym94LndpZHRoIC8gMikgPCAobnVtKSBwX3Bvcy54KSkpewoKCQkJCQkJCQlpZiAoZm9yY2VfeiA8IDApewoJCQkJCQkJCQkjIGNlaWxpbmcKCQkJCQkJCQkJZm9yY2VfeiA9IChudW0pIHBhcnRpY2xlLmNvbmZpZy5iZWhhdmlvdXIuZ3Jhdml0eS56ID4gMCA/IChudW0pIHBhcnRpY2xlLmNvbmZpZy5iZWhhdmlvdXIuZ3Jhdml0eS56IDogMDsKCQkJCQkJCQl9IGVsc2UgewoJCQkJCQkJCQkjIGZsb29yCgkJCQkJCQkJCWZvcmNlX3ogPSAobnVtKSBwYXJ0aWNsZS5jb25maWcuYmVoYXZpb3VyLmdyYXZpdHkueiA8IDAgPyAobnVtKSBwYXJ0aWNsZS5jb25maWcuYmVoYXZpb3VyLmdyYXZpdHkueiA6IDA7CgkJCQkJCQkJfQoKCgkJCQkJCQkJcGFydGljbGUuY29sbGlkZWQgPSB0cnVlOwoJCQkJCQkJCXBhcnRpY2xlLmNvbmZpZy5iZWhhdmlvdXIuZm9yY2UueiA9IDA7CgkJCQkJCQkJcGFydGljbGUuY29uZmlnLmJlaGF2aW91ci5lbmVyZ3kueiA9IDA7CgkJCQkJCQl9CgoJCQkJCQkJI1kgQ29sbGlkZXMKCQkJCQkJCWlmICgKCQkJCQkJCQkjaWYgY29taW5nIGZyb20gYWJvdmUKCQkJCQkJCQkoKGZvcmNlX3kgPiAwICYmIChudW0pIHBfcG9zLnkgLSBmb3JjZV95IC0gY2xpcHBpbmcgPCAobnVtKSBoaXRib3gucG9zX3kgKyAobnVtKSBoaXRib3guaGVpZ2h0ICYmIChudW0pIHBfcG9zLnkgLSBmb3JjZV95IC0gY2xpcHBpbmcgPiAobnVtKSBoaXRib3gucG9zX3kpIHx8IAoJCQkJCQkJCSNpZiBjb21pbmcgZnJvbSBiZWxvdwoJCQkJCQkJCShmb3JjZV95IDwgMCAmJiAobnVtKSBwX3Bvcy55ICsgLWZvcmNlX3kgKyBjbGlwcGluZyA8IChudW0pIGhpdGJveC5wb3NfeSArIChudW0pIGhpdGJveC5oZWlnaHQgJiYgKG51bSkgcF9wb3MueSArIC1mb3JjZV95ICsgY2xpcHBpbmcgPiAobnVtKSBoaXRib3gucG9zX3kpKSAmJgoJCQkJCQkJCSNtYXRjaGVzIG9uIHggYXhpcwoJCQkJCQkJCSgoKG51bSkgaGl0Ym94LnBvc194ICsgKChudW0pIGhpdGJveC53aWR0aCAvIDIpID4gKG51bSkgcF9wb3MueCAmJiAobnVtKSBoaXRib3gucG9zX3ggLSAoKG51bSkgaGl0Ym94LndpZHRoIC8gMikgPCAobnVtKSBwX3Bvcy54KSAmJiAKCQkJCQkJCQkjbWF0Y2hlcyBvbiB6IGF4aXMKCQkJCQkJCQkoKG51bSkgaGl0Ym94LnBvc196ICsgKChudW0pIGhpdGJveC5sZW5ndGggLyAyKSA+IChudW0pIHBfcG9zLnogJiYgKG51bSkgaGl0Ym94LnBvc196IC0gKChudW0pIGhpdGJveC5sZW5ndGggLyAyKSA8IChudW0pIHBfcG9zLnopKSl7CgoJCQkJCQkJCWlmIChmb3JjZV95IDwgMCl7CgkJCQkJCQkJCSMgY2VpbGluZwoJCQkJCQkJCQlmb3JjZV95ID0gKG51bSkgcGFydGljbGUuY29uZmlnLmJlaGF2aW91ci5ncmF2aXR5LnkgPiAwID8gKG51bSkgcGFydGljbGUuY29uZmlnLmJlaGF2aW91ci5ncmF2aXR5LnkgOiAwOwoJCQkJCQkJCX0gZWxzZSB7CgkJCQkJCQkJCSMgZmxvb3IKCQkJCQkJCQkJZm9yY2VfeSA9IChudW0pIHBhcnRpY2xlLmNvbmZpZy5iZWhhdmlvdXIuZ3Jhdml0eS55IDwgMCA/IChudW0pIHBhcnRpY2xlLmNvbmZpZy5iZWhhdmlvdXIuZ3Jhdml0eS55IDogMDsKCQkJCQkJCQl9CgoJCQkJCQkJCXBhcnRpY2xlLmNvbGxpZGVkID0gdHJ1ZTsKCQkJCQkJCQlwYXJ0aWNsZS5jb25maWcuYmVoYXZpb3VyLmZvcmNlLnkgPSAwOwoJCQkJCQkJCXBhcnRpY2xlLmNvbmZpZy5iZWhhdmlvdXIuZW5lcmd5LnkgPSAwOwoJCQkJCQkJfQoKCQkJCQkJCWlmICghcGFydGljbGUuc3RvcHBlZCAmJiBmb3JjZV94ID09IDAgJiYgZm9yY2VfeSA9PSAwICYmIGZvcmNlX3ogPT0gMCl7CgkJCQkJCQkJcGFydGljbGUuc3RvcHBlZCA9IHRydWU7CgkJCQkJCQl9CgkJCQkJCX0KCQkJCQl9CgkJCQl9CgkJCQkKCQkKCQkJCSNCRUhBVklPVVIKCQkJCWlmICghKGJvb2wpIHBhcnRpY2xlLnN0b3BwZWQpewkJCQkJCgkJCQkJKG51bSkgcGFydGljbGUuc3ByaXRlLnBvc2l0aW9uLnggLT0gZm9yY2VfeDsKCQkJCQkobnVtKSBwYXJ0aWNsZS5zcHJpdGUucG9zaXRpb24ueSAtPSBmb3JjZV95OwoJCQkJCShudW0pIHBhcnRpY2xlLnNwcml0ZS5wb3NpdGlvbi56IC09IGZvcmNlX3o7CgkJCQl9CgkJCQkKCQkJCSMgRW5lcmd5ICh0ZXN0ZWQpCgoJCQkJI0VORVJHWQoJCQkJaWYgKChudW0pIHBhcnRpY2xlLmNvbmZpZy5iZWhhdmlvdXIuZW5lcmd5LnggPiAwKXsKCQkJCQkobnVtKSBwYXJ0aWNsZS5jb25maWcuYmVoYXZpb3VyLmVuZXJneS54LS07CgkJCQl9CgkJCQllbHNlIGlmICgobnVtKSBwYXJ0aWNsZS5jb25maWcuYmVoYXZpb3VyLmVuZXJneS54IDwgMCl7CgkJCQkJKG51bSkgcGFydGljbGUuY29uZmlnLmJlaGF2aW91ci5lbmVyZ3kueCsrOwoJCQkJfQoJCQkJCgkJCQlpZiAoKG51bSkgcGFydGljbGUuY29uZmlnLmJlaGF2aW91ci5lbmVyZ3kueSA+IDApewoJCQkJCShudW0pIHBhcnRpY2xlLmNvbmZpZy5iZWhhdmlvdXIuZW5lcmd5LnktLTsKCQkJCX0KCQkJCWVsc2UgaWYgKChudW0pIHBhcnRpY2xlLmNvbmZpZy5iZWhhdmlvdXIuZW5lcmd5LnkgPCAwKXsKCQkJCQkobnVtKSBwYXJ0aWNsZS5jb25maWcuYmVoYXZpb3VyLmVuZXJneS55Kys7CgkJCQl9CgkJCQkKCQkJCWlmICgobnVtKSBwYXJ0aWNsZS5jb25maWcuYmVoYXZpb3VyLmVuZXJneS56ID4gMCl7CgkJCQkJKG51bSkgcGFydGljbGUuY29uZmlnLmJlaGF2aW91ci5lbmVyZ3kuei0tOwoJCQkJfQoJCQkJZWxzZSBpZiAoKG51bSkgcGFydGljbGUuY29uZmlnLmJlaGF2aW91ci5lbmVyZ3kueiA8IDApewoJCQkJCShudW0pIHBhcnRpY2xlLmNvbmZpZy5iZWhhdmlvdXIuZW5lcmd5LnorKzsKCQkJCX0KCQkJCQoJCQkJI0RFQ0FZCgkJCQkjZGVjYXkuZGVjYXkgKGRvbmUpCgkJCQlpZiAoKGJvb2wpIHBhcnRpY2xlLmNvbmZpZy5kZWNheS5kZWNheSl7CgkJCQkJI2luY3JlbWVudCBkZWNheQoJCQkJCSNkZWNheS5zdGFydF9kZWNheV9vbl9jb2xsaXNpb24gKGRvbmUpIC8gZGVjYXkuc3RhcnRfZGVjYXlfb25fdG9wIChkb25lKQoJCQkJCWlmICgoKGJvb2wpIHBhcnRpY2xlLmNvbmZpZy5kZWNheS5zdGFydF9kZWNheV9vbl9jb2xsaXNpb24gJiYgKGJvb2wpIHBhcnRpY2xlLmNvbGxpZGVkKSB8fCAoKGJvb2wpIHBhcnRpY2xlLmNvbmZpZy5kZWNheS5zdGFydF9kZWNheV9vbl9zdG9wICYmIChib29sKSBwYXJ0aWNsZS5zdG9wcGVkKSl7CgkJCQkJCWlmICgobnVtKSBwYXJ0aWNsZS5kZWNheSA9PSAtMSl7CgkJCQkJCQlwYXJ0aWNsZS5kZWNheSA9IChudW0pIHBhcnRpY2xlLmNvbmZpZy5kZWNheS5kZWNheV90aW1lOwoJCQkJCQl9IAoJCQkJCQllbHNlIGlmICgobnVtKSBwYXJ0aWNsZS5kZWNheSA+IDApewoJCQkJCQkJaWYgKChudW0pIHBhcnRpY2xlLmRlY2F5IC0gZGVsdGEgPiAwKXsKCQkJCQkJCQkobnVtKSBwYXJ0aWNsZS5kZWNheSAtPSBkZWx0YTsKCQkJCQkJCX0gCgkJCQkJCQllbHNlIHsKCQkJCQkJCQlwYXJ0aWNsZS5kZWNheSA9IDA7CgkJCQkJCQl9CgkJCQkJCX0gCgkJCQkJCWVsc2UgaWYgKChudW0pIHBhcnRpY2xlLmRlY2F5ID09IDApewoJCQkJCQkJcmVtb3ZlX3BhcnRpY2xlKHBhcnRpY2xlKTsKCQkJCQkJfQoJCQkJCX0KCQkJCQoJCQkJCSNwYXJ0aWNsZS5kZWNheV9jb29sZG93biAodG9kbykKCQkJCQlpZiAoKG51bSkgcGFydGljbGUuY29uZmlnLmRlY2F5LmRlY2F5X2Nvb2xkb3duID4gMCl7CgkJCQkJCShudW0pIHBhcnRpY2xlLmNvbmZpZy5kZWNheS5kZWNheV9jb29sZG93biAtPSBkZWx0YTsKCQkJCQl9IAoJCQkJCWVsc2UgewoJCQkJCQlyZW1vdmVfcGFydGljbGUocGFydGljbGUpOwoJCQkJCX0KCQkJCQoJCQkJCSNkZWNheS5taW5fZGVjYXlfaGVpZ2h0IChkb25lKQoJCQkJCWlmICgobnVtKSBwYXJ0aWNsZS5zcHJpdGUucG9zaXRpb24ueSA8PSAobnVtKSBwYXJ0aWNsZS5jb25maWcuZGVjYXkubWluX2RlY2F5X2hlaWdodCkgewoJCQkJCQlyZW1vdmVfcGFydGljbGUocGFydGljbGUpOwoJCQkJCX0KCQkJCX0KCQkJfQoJCX0KCX0KfQoKI0N1c3RvbQojUmFkaXVzIHwgRGlzdGFuY2UgZXhwbG9zaW9uIHBhcnRpY2xlIHRyYXZlbC4KI0NlbnRlciBvZmZzZXQgfCBIb3cgZmFyIGF3YXkgZnJvbSB0aGUgZXhwbG9zaW9uIGNlbnRlciB0aGUgcGFydGljbGVzIHN0YXJ0LgojRGVuc2l0eSB8IEFtb3VudCBvZiBwYXJ0aWNsZXMuCgojU2V0dXAgfCBwYXJ0aWNsZSBvYmplY3QuIChmdW5jdGlvbiB3aWxsIG92ZXJyaWRlIHNvbWUgc2V0dGluZ3MpCmFjdGlvbiBleHBsb2RlKG51bSB4LCBudW0geSwgbnVtIHosIG51bSByYWRpdXMsIG51bSBjZW50ZXJfb2Zmc2V0LCBudW0gZGVuc2l0eSwgbnVtIHNwZWVkX2FtcCwgb2JqIGNvbmZpZyl7CgkKCWZvcihudW0gcGhpID0gMDsgcGhpIDwgTWF0aC5QSTI7IHBoaSArPSBNYXRoLlBJIC8gZGVuc2l0eSl7CgkJZm9yKG51bSB0aGV0YSA9IDA7IHRoZXRhIDwgTWF0aC5QSTsgdGhldGEgKz0gKE1hdGguUEkgLyBkZW5zaXR5KSAqIDIpewoJCQludW0gX3ggPSBNYXRoLmNvcyh0aGV0YSkgKiBNYXRoLnNpbihwaGkpOwoJCQludW0gX3kgPSBNYXRoLmNvcyhwaGkpOwoJCQludW0gX3ogPSBNYXRoLnNpbih0aGV0YSkgKiBNYXRoLnNpbihwaGkpOwoKCQkJb2JqIHNldHVwID0gcGFydGljbGVfb2JqZWN0KGNvbmZpZyk7CgoJCQlzZXR1cC5wcm9wZXJ0aWVzLnRleHR1cmVfaWQgPSBudW1bMTEsIDEyLCAxMywgMTQsIDE1LCAxNiwgMTcsIDE4LCAxOSwgMjAsIDIxXTsKCQkJc2V0dXAucHJvcGVydGllcy5zaXplID0gNy41OwoJCQlzZXR1cC5kZWNheS5zdGFydF9kZWNheV9vbl9jb2xsaXNpb24gPSBmYWxzZTsKCgkJCXNldHVwLmJlaGF2aW91ci5wbGF5ZXJfY29sbGlzaW9uXzNkID0gdHJ1ZTsKCQkJc2V0dXAuYmVoYXZpb3VyLmdyYXZpdHkueSA9IDAuMjsKCiAJCQkobnVtKSBzZXR1cC5iZWhhdmlvdXIuZm9yY2UueCArPSAtX3ggKiBzcGVlZF9hbXA7CiAJCQkobnVtKSBzZXR1cC5iZWhhdmlvdXIuZm9yY2UueSArPSAtX3kgKiBzcGVlZF9hbXA7CiAJCQkobnVtKSBzZXR1cC5iZWhhdmlvdXIuZm9yY2UueiArPSAtX3ogKiBzcGVlZF9hbXA7CgoJCQkobnVtKSBzZXR1cC5iZWhhdmlvdXIuZW5lcmd5LnggKz0gcmFkaXVzOwogCQkJKG51bSkgc2V0dXAuYmVoYXZpb3VyLmVuZXJneS55ICs9IHJhZGl1czsKIAkJCShudW0pIHNldHVwLmJlaGF2aW91ci5lbmVyZ3kueiArPSByYWRpdXM7CgoJCQlwYXJ0aWNsZXMoeCArIChfeCAqIGNlbnRlcl9vZmZzZXQpLCB5ICsgKF95ICogY2VudGVyX29mZnNldCksIHogKyAoX3ogKiBjZW50ZXJfb2Zmc2V0KSwgc2V0dXApOwoJCX0KCX0KfQoKcHVibGljIGFjdGlvbiBvbktleVByZXNzKHN0ciBrZXksIG51bSBjb2RlKXsKCWlmIChrZXkgPT0gImwiKXsKCQljbGVhbl9wYXJ0aWNsZXMoKTsKCX0KCglpZiAoa2V5ID09ICJwIil7CgkJbnVtIHN0b3BwZWQgPSAwOwoJCW51bSBnb2luZyA9IDA7CgkJZm9yKG51bSBpID0gMDsgaSA8IGxlbmd0aE9mIGNsaWVudC5wYXJ0aWNsZXM7IGkrKyl7CgkJCWlmICgoYm9vbCkgY2xpZW50LnBhcnRpY2xlc1tpXS5zdG9wcGVkKXsKCQkJCXN0b3BwZWQrKzsKCQkJfSBlbHNlIHsKCQkJCWdvaW5nKys7CgkJCX0KCQl9CgkJR0FNRS5sb2coInN0b3BwZWQiLCBzdG9wcGVkKTsKCQlHQU1FLmxvZygiZ29pbmciLCBnb2luZyk7Cgl9CgoJaWYgKGtleSA9PSAiaiIpewoJCWV4cGxvZGUoKG51bSkgY2xpZW50LnBsYXllci5wb3NpdGlvbi54LCAobnVtKSBjbGllbnQucGxheWVyLnBvc2l0aW9uLnkgKyAxMCwgKG51bSkgY2xpZW50LnBsYXllci5wb3NpdGlvbi56LCA1MCwgMywgMzEsIDQsIHt9KTsKCX0KfQ==",
        "server": "IyBTZXJ2ZXIgU2NyaXB0IHJ1bnMgb25seSBvbiBIb3N0ZWQgc2VydmVyICYgbm90IGluIHRlc3QgbW9kZQojIEtydW5rU2NyaXB0IENvcHlyaWdodCAoQykgWWVuZGlzIEVudGVydGFpbm1lbnQgUHR5IEx0ZAojIAojIEFkZCBjdXN0b20gYWN0aW9ucyBoZXJlCgojIFJ1bnMgd2hlbiB0aGUgZ2FtZSBzdGFydHMKcHVibGljIGFjdGlvbiBzdGFydCgpIHsKCn0KCiMgUnVucyBldmVyeSBnYW1lIHRpY2sKcHVibGljIGFjdGlvbiB1cGRhdGUobnVtIGRlbHRhKSB7Cgp9CgojIFBsYXllciBzcGF3bnMgaW4KcHVibGljIGFjdGlvbiBvblBsYXllclNwYXduKHN0ciBpZCkgewoKfQoKIyBQbGF5ZXIgZGllZApwdWJsaWMgYWN0aW9uIG9uUGxheWVyRGVhdGgoc3RyIGlkLCBzdHIga2lsbGVySUQpIHsKCn0KCiMgUGxheWVyIGdvdCBkYW1hZ2VkCnB1YmxpYyBhY3Rpb24gb25QbGF5ZXJEYW1hZ2Uoc3RyIGlkLCBzdHIgZG9lcklELCBudW0gYW1vdW50KSB7Cgp9CgojIFBsYXllciB1cGRhdGUKcHVibGljIGFjdGlvbiBvblBsYXllclVwZGF0ZShzdHIgaWQsIG51bSBkZWx0YSwgc3RhdGljIG9iaiBpbnB1dHMpIHsKCn0KCiMgQ2FsbGVkIGZyb20gQ3VzdG9tIFRyaWdnZXIgQWN0aW9uCnB1YmxpYyBhY3Rpb24gb25DdXN0b21UcmlnZ2VyKHN0ciBwbGF5ZXJJRCwgc3RyIGN1c3RvbVBhcmFtLCBudW0gdmFsdWUpIHsKCn0KCiMgU2VydmVyIHJlY2VpdmVzIG5ldHdvcmsgbWVzc2FnZQpwdWJsaWMgYWN0aW9uIG9uTmV0d29ya01lc3NhZ2Uoc3RyIGlkLCBvYmogZGF0YSwgc3RyIHBsYXllcklEKSB7Cgp9CgojIFNlcnZlciByZWNlaXZlcyBjaGF0IG1lc3NhZ2UKcHVibGljIGFjdGlvbiBvbkNoYXRNZXNzYWdlKHN0ciBtc2csIHN0ciBwbGF5ZXJJRCkgewoKfQoKIyBXaGVuIGEgcGxheWVyIGxlYXZlcyB0aGUgc2VydmVyCnB1YmxpYyBhY3Rpb24gb25QbGF5ZXJMZWF2ZShzdHIgcGxheWVySUQpIHsKCn0KCiMgUnVucyB3aGVuIHRoZSByb3VuZCBlbmRzCnB1YmxpYyBhY3Rpb24gb25HYW1lRW5kKCkgewoKfQoKIyBXaGVuIGEgcGxheWVyIGZpbmlzaGVkIGEgdmlkZW8KcHVibGljIGFjdGlvbiBvbkFkRmluaXNoZWQoc3RyIHBsYXllcklELCBib29sIHN1Y2Nlc3MpIHsKCn0KCiMgUnVucyB3aGVuIHRoZSBzZXJ2ZXIgY2xvc2VzCnB1YmxpYyBhY3Rpb24gb25TZXJ2ZXJDbG9zZWQoKSB7Cgp9"
    },
    "spawns": [
        [
            0,
            0,
            0,
            0,
            0,
            0
        ]
    ]
}